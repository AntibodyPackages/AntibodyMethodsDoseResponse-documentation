<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>AdaptiveDensityApproximation · AntibodyMethodsDoseResponse</title><meta name="title" content="AdaptiveDensityApproximation · AntibodyMethodsDoseResponse"/><meta property="og:title" content="AdaptiveDensityApproximation · AntibodyMethodsDoseResponse"/><meta property="twitter:title" content="AdaptiveDensityApproximation · AntibodyMethodsDoseResponse"/><meta name="description" content="Documentation for AntibodyMethodsDoseResponse."/><meta property="og:description" content="Documentation for AntibodyMethodsDoseResponse."/><meta property="twitter:description" content="Documentation for AntibodyMethodsDoseResponse."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="AntibodyMethodsDoseResponse logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">AntibodyMethodsDoseResponse</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../QuickStart/">Quick start</a></li><li><span class="tocitem">Detailed explanations</span><ul><li><a class="tocitem" href="../../MeasurementData/">Measurement data</a></li><li><a class="tocitem" href="../../Models/">Models</a></li><li><a class="tocitem" href="../../ResultsAndSimulations/">Results and simulations</a></li><li><a class="tocitem" href="../../DensityPlots/">Density plots for <code>OneDimGrid</code></a></li><li><a class="tocitem" href="../../Fitting/">Fitting</a></li><li><a class="tocitem" href="../../Uncertainty/">Uncertainty estimation</a></li></ul></li><li><span class="tocitem">FittingObjectiveFunctions</span><ul><li><a class="tocitem" href="../../FittingObjectiveFunctions/">Introduction</a></li><li><a class="tocitem" href="../../FittingObjectiveFunctions/fitting_data/">FittingData and ModelFunctions</a></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Least squares objective</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../FittingObjectiveFunctions/lsq_background/">Background</a></li><li><a class="tocitem" href="../../FittingObjectiveFunctions/lsq_implementation/">How to implement</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Posterior probability</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../FittingObjectiveFunctions/posterior_background/">Background</a></li><li><a class="tocitem" href="../../FittingObjectiveFunctions/posterior_implementation/">How to implement</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-5" type="checkbox"/><label class="tocitem" for="menuitem-4-5"><span class="docs-label">Logarithmic posterior probability</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../FittingObjectiveFunctions/log_posterior_background/">Background</a></li><li><a class="tocitem" href="../../FittingObjectiveFunctions/log_posterior_implementation/">How to implement</a></li></ul></li></ul></li><li><a class="tocitem" href="../">AdaptiveDensityApproximation</a></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../../API/">AntibodyMethodsDoseResponse</a></li><li><a class="tocitem" href="../../API_Convenience/">AntibodyMethodsDoseResponseConvenience</a></li><li><a class="tocitem" href="../../FittingObjectiveFunctions/API/">FittingObjectiveFunctions</a></li><li class="is-active"><a class="tocitem" href>AdaptiveDensityApproximation</a><ul class="internal"><li><a class="tocitem" href="#Create-new-grids"><span>Create new grids</span></a></li><li><a class="tocitem" href="#Approximate-density-functions"><span>Approximate density functions</span></a></li><li><a class="tocitem" href="#Import-and-Export"><span>Import and Export</span></a></li><li><a class="tocitem" href="#Refine-a-grid"><span>Refine a grid</span></a></li><li><a class="tocitem" href="#Restrict-the-grid-domain"><span>Restrict the grid domain</span></a></li><li><a class="tocitem" href="#Simple-calculations"><span>Simple calculations</span></a></li><li><a class="tocitem" href="#Integral-models"><span>Integral models</span></a></li><li><a class="tocitem" href="#Numeric-PDF-and-CDF"><span>Numeric PDF and CDF</span></a></li><li><a class="tocitem" href="#Grid-slices"><span>Grid slices</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href>AdaptiveDensityApproximation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>AdaptiveDensityApproximation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/AntibodyPackages/AntibodyMethodsDoseResponse" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/AntibodyPackages/AntibodyMethodsDoseResponse/blob/main/docs/src/AdaptiveDensityApproximation/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="Create-new-grids"><a class="docs-heading-anchor" href="#Create-new-grids">Create new grids</a><a id="Create-new-grids-1"></a><a class="docs-heading-anchor-permalink" href="#Create-new-grids" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AdaptiveDensityApproximation.create_grid" href="#AdaptiveDensityApproximation.create_grid"><code>AdaptiveDensityApproximation.create_grid</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_grid(axis_ticks::AbstractArray...;initial_weight = 1.0, exclude_strings = [&quot;&quot;],string_length = 10)</code></pre><p>Create a multidimensional grid, where the <code>axis_ticks</code> define the corner points of the blocks.</p><p>For each dimension a separate array of axis-ticks is required. Each axis-ticks array must have at least 3 elements.</p><p><strong>Keywords</strong></p><ul><li><code>initial_weight</code>: Initial weight for the blocks.</li><li><code>exclude_strings</code>: Strings that should not be used for the block names / keys.</li><li><code>string_length</code>: Length for the block names / keys.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/CreateGrid.jl#L63-L74">source</a></section><section><div><pre><code class="language-julia hljs">create_grid(axis_ticks::AbstractArray;initial_weight = 1.0, exclude_strings = [&quot;&quot;],string_length = 10)</code></pre><p>Create a one-dimensional grid where the <code>axis_ticks</code> define the start/end points of the intervals.</p><p>There must be at least 3 elements in the axis_ticks array.</p><p><strong>Keywords</strong></p><ul><li><code>initial_weight</code>: Initial weight for the intervals.</li><li><code>exclude_strings</code>: Strings that should not be used for the block names / keys.</li><li><code>string_length</code>: Length for the block names / keys.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/CreateGrid.jl#L122-L133">source</a></section></article><h2 id="Approximate-density-functions"><a class="docs-heading-anchor" href="#Approximate-density-functions">Approximate density functions</a><a id="Approximate-density-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Approximate-density-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AdaptiveDensityApproximation.approximate_density!" href="#AdaptiveDensityApproximation.approximate_density!"><code>AdaptiveDensityApproximation.approximate_density!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">approximate_density!(grid,f::Function; mode = :center, mesh_size = 4, volume_normalization = false)</code></pre><p>Approximate the density function <code>f</code> with the grid, changing the weights to the function values and return the mutated grid.</p><ul><li><p><code>mode = :center</code>: Evaluate the density function in the center of the interval/block.</p></li><li><p><code>mode = :mean</code>: Evaluate the density function at all corner points of the interval/block and use the mean value.</p></li><li><p><code>mode = :mesh</code>: Evaluate the density function at all mesh points of the interval/block and use the mean value.</p></li><li><p><code>mesh_size = 4</code>: Number of block discretization points in each dimension. Only applicable to <code>mode = :mesh</code>.</p></li><li><p><code>volume_normalization = false</code>: If <code>true</code> the density value is normalized to the block volume (<code>weight = value × volume</code>).</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/DensityApproximation.jl#L27-L37">source</a></section></article><h2 id="Import-and-Export"><a class="docs-heading-anchor" href="#Import-and-Export">Import and Export</a><a id="Import-and-Export-1"></a><a class="docs-heading-anchor-permalink" href="#Import-and-Export" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AdaptiveDensityApproximation.export_weights" href="#AdaptiveDensityApproximation.export_weights"><code>AdaptiveDensityApproximation.export_weights</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">export_weights(grid)</code></pre><p>Return a one-dim array containing the weights of the intervals/blocks.</p><p>The intervals/blocks are sorted by their centers. The weights are exported in this order.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/ImportAndExport.jl#L73-L78">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AdaptiveDensityApproximation.export_all" href="#AdaptiveDensityApproximation.export_all"><code>AdaptiveDensityApproximation.export_all</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">export_all(grid)</code></pre><p>Return one-dimensional arrays: <code>centers, volumes, weights</code>.</p><p>The arrays are sorted and exported by centers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/ImportAndExport.jl#L56-L61">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AdaptiveDensityApproximation.import_weights!" href="#AdaptiveDensityApproximation.import_weights!"><code>AdaptiveDensityApproximation.import_weights!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">import_weights!(grid, weights)</code></pre><p>Import weights and return the mutated grid.</p><p>The intervals/blocks are sorted by their centers. The weights are imported in this order.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/ImportAndExport.jl#L86-L91">source</a></section></article><h2 id="Refine-a-grid"><a class="docs-heading-anchor" href="#Refine-a-grid">Refine a grid</a><a id="Refine-a-grid-1"></a><a class="docs-heading-anchor-permalink" href="#Refine-a-grid" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AdaptiveDensityApproximation.refine!" href="#AdaptiveDensityApproximation.refine!"><code>AdaptiveDensityApproximation.refine!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">refine!(grid::Union{OneDimGrid,Grid}; block_variation::Function = default_block_variation, selection::Function = maximum, split_weights::Bool = false)</code></pre><p>Subdivide intervals/blocks in a grid based on the respective variations. Return the mutated grid and the indices of subdivided (i.e. new) blocks (indices w.r.t arrays obtained from <a href="#AdaptiveDensityApproximation.export_weights"><code>export_weights</code></a> and <a href="#AdaptiveDensityApproximation.export_all"><code>export_all</code></a>).</p><p>By default the variation of a block is the largest difference in weights w.r.t. to its neighbors. The blocks to be subdivided are those that have the largest variation. If several blocks have the same variation, all those blocks are subdivided.</p><p><strong>Changing the selection of blocks</strong></p><ul><li><code>block_variation</code>: Function to calculate the variation value for a block. Must use the following signature <code>(block_center,block_volume, block_weight, neighbor_center,neighbor_volumes, neighbor_weights)</code>.</li><li><code>selection</code>: Function to select the appropriate variation value(s) from. Must have the signature <code>(variations)</code>  where variations is a one-dim array of the variation values.</li></ul><p><strong>Changing the weight splitting</strong></p><p>By default, the subdividing blocks retain the weight of the original block. If <code>split_weights = true</code>, the weight of the original block is split up evenly between the subdividing blocks (i.e. divided by the number of subdividing blocks).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/AdaptiveRefinement.jl#L65-L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AdaptiveDensityApproximation.subdivide!" href="#AdaptiveDensityApproximation.subdivide!"><code>AdaptiveDensityApproximation.subdivide!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">subdivide!(grid::Union{OneDimGrid,Grid},block_name::AbstractString; split_weights::Bool = false)</code></pre><p>Split the block with name <code>block_name</code> into <code>2^dim</code> sub-blocks. Return the mutated grid.</p><p><strong>Changing the weight splitting</strong></p><p>By default, the subdividing blocks retain the weight of the original block. If <code>split_weights = true</code>, the weight of the original block is split up evenly between the subdividing blocks (i.e. divided by the number of subdividing blocks).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/AdaptiveRefinement.jl#L29-L36">source</a></section></article><h2 id="Restrict-the-grid-domain"><a class="docs-heading-anchor" href="#Restrict-the-grid-domain">Restrict the grid domain</a><a id="Restrict-the-grid-domain-1"></a><a class="docs-heading-anchor-permalink" href="#Restrict-the-grid-domain" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AdaptiveDensityApproximation.restrict_domain!" href="#AdaptiveDensityApproximation.restrict_domain!"><code>AdaptiveDensityApproximation.restrict_domain!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">restrict_domain!(grid::OneDimGrid; lower::Real = -Inf,upper::Real = Inf, weight_distribution::Symbol = :none)</code></pre><p>Restrict a grid to the domain defined by <code>lower</code> and <code>upper</code>.</p><ul><li><code>weight_distribution = :linear</code>: A split block gets the weight scaled to the proportion of the block within the domain.</li><li><code>weight_distribution = :log</code>: A split block gets the weight scaled to the proportion of the block, in a logarithmic scale, within the domain.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/GridRestrictions.jl#L125-L131">source</a></section><section><div><pre><code class="language-julia hljs">restrict_domain!(grid::Grid;lower = [-Inf,...,-Inf], upper = [Inf,...,Inf], weight_distribution::Symbol = :none)</code></pre><p>Restrict a grid to the domain defined by <code>lower</code> and <code>upper</code>.</p><ul><li><code>weight_distribution = :linear</code>: A split block gets the weight scaled to the proportion of the block within the domain.</li><li><code>weight_distribution = :log</code>: A split block gets the weight scaled to the proportion of the block, in a logarithmic scale, within the domain.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/GridRestrictions.jl#L189-L195">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AdaptiveDensityApproximation.select_indices" href="#AdaptiveDensityApproximation.select_indices"><code>AdaptiveDensityApproximation.select_indices</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">select_indices(grid::OneDimGrid; lower::Real=-Inf,upper::Real=Inf)</code></pre><p>Return indices of intervals with centers between <code>lower</code> and <code>upper</code>. The indices correspond to the exported arrays <code>centers</code>, <code>volumes</code> and <code>weights</code> from <a href="#AdaptiveDensityApproximation.export_weights"><code>export_weights</code></a> and <a href="#AdaptiveDensityApproximation.export_all"><code>export_all</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/GridRestrictions.jl#L80-L83">source</a></section><section><div><pre><code class="language-julia hljs">select_indices(grid::Grid; lower= [-Inf,...,-Inf],upper=[Inf, ..., Inf])</code></pre><p>Return indices of intervals with centers between <code>lower</code> and <code>upper</code>. The indices correspond to the exported arrays <code>centers</code>, <code>volumes</code> and <code>weights</code> from <a href="#AdaptiveDensityApproximation.export_weights"><code>export_weights</code></a> and <a href="#AdaptiveDensityApproximation.export_all"><code>export_all</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/GridRestrictions.jl#L90-L93">source</a></section></article><h2 id="Simple-calculations"><a class="docs-heading-anchor" href="#Simple-calculations">Simple calculations</a><a id="Simple-calculations-1"></a><a class="docs-heading-anchor-permalink" href="#Simple-calculations" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.sum-Tuple{Union{AdaptiveDensityApproximation.Grid, AdaptiveDensityApproximation.OneDimGrid}}" href="#Base.sum-Tuple{Union{AdaptiveDensityApproximation.Grid, AdaptiveDensityApproximation.OneDimGrid}}"><code>Base.sum</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">sum(grid::Union{OneDimGrid, Grid}; lower = nothing, upper = nothing, weight_distribution::Symbol = :none)</code></pre><p>Return the sum of all weights.</p><ul><li><code>lower</code>, <code>upper</code> and <code>weight_distribution</code> can be used to restrict the domain, similar to <a href="#AdaptiveDensityApproximation.restrict_domain!"><code>restrict_domain!</code></a>. This does not mutate the <code>grid</code>.</li><li>Too restrictive boundaries (empty grid) raise a warning and the default value 0 is returned.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/Calculations.jl#L41-L47">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.sum-Tuple{Function, Union{AdaptiveDensityApproximation.Grid, AdaptiveDensityApproximation.OneDimGrid}}" href="#Base.sum-Tuple{Function, Union{AdaptiveDensityApproximation.Grid, AdaptiveDensityApproximation.OneDimGrid}}"><code>Base.sum</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">sum(f::Function,grid::Union{OneDimGrid, Grid}; lower = nothing, upper = nothing, weight_distribution::Symbol = :none)</code></pre><p>Return the sum of <code>f(weight)</code> for all weights.</p><ul><li><code>lower</code>, <code>upper</code> and <code>weight_distribution</code> can be used to restrict the domain, similar to <a href="#AdaptiveDensityApproximation.restrict_domain!"><code>restrict_domain!</code></a>. This does not mutate the <code>grid</code>.</li><li>Too restrictive boundaries (empty grid) raise a warning and the default value 0 is returned.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/Calculations.jl#L58-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.prod-Tuple{Union{AdaptiveDensityApproximation.Grid, AdaptiveDensityApproximation.OneDimGrid}}" href="#Base.prod-Tuple{Union{AdaptiveDensityApproximation.Grid, AdaptiveDensityApproximation.OneDimGrid}}"><code>Base.prod</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">prod(grid::Union{OneDimGrid, Grid}; lower = nothing, upper = nothing, weight_distribution::Symbol = :none)</code></pre><p>Return the product of all weights.</p><ul><li><code>lower</code>, <code>upper</code> and <code>weight_distribution</code> can be used to restrict the domain, similar to <a href="#AdaptiveDensityApproximation.restrict_domain!"><code>restrict_domain!</code></a>. This does not mutate the <code>grid</code>.</li><li>Too restrictive boundaries (empty grid) raise a warning and the default value 1 is returned.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/Calculations.jl#L75-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.prod-Tuple{Function, Union{AdaptiveDensityApproximation.Grid, AdaptiveDensityApproximation.OneDimGrid}}" href="#Base.prod-Tuple{Function, Union{AdaptiveDensityApproximation.Grid, AdaptiveDensityApproximation.OneDimGrid}}"><code>Base.prod</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">prod(f::Function,grid::Union{OneDimGrid, Grid}; lower = nothing, upper = nothing, weight_distribution::Symbol = :none)</code></pre><p>Return the product of <code>f(weight)</code> for all weights.</p><ul><li><code>lower</code>, <code>upper</code> and <code>weight_distribution</code> can be used to restrict the domain, similar to <a href="#AdaptiveDensityApproximation.restrict_domain!"><code>restrict_domain!</code></a>. This does not mutate the <code>grid</code>.</li><li>Too restrictive boundaries (empty grid) raise a warning and the default value 1 is returned.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/Calculations.jl#L92-L98">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AdaptiveDensityApproximation.integrate" href="#AdaptiveDensityApproximation.integrate"><code>AdaptiveDensityApproximation.integrate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">integrate(grid)</code></pre><p>Return the sum of <code>volume × weight</code> for the intervals/blocks.</p><p>When the grid approximates a density <code>φ</code> with the weights of the intervals/blocks, <code>integrate(grid)</code> approximates the integral of the density over the grid domain: <code>∫_grid φ dV</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/Calculations.jl#L117-L122">source</a></section></article><h2 id="Integral-models"><a class="docs-heading-anchor" href="#Integral-models">Integral models</a><a id="Integral-models-1"></a><a class="docs-heading-anchor-permalink" href="#Integral-models" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AdaptiveDensityApproximation.integral_model" href="#AdaptiveDensityApproximation.integral_model"><code>AdaptiveDensityApproximation.integral_model</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">integral_model(grid,f::Function, g::Function = f)</code></pre><p>Create a model for the integral <code>∫_grid f(x,y,φ(y),...) dy</code>. Returns</p><ul><li>model function: <code>(x,λ,args...) -&gt; ∑_i block[i].volume × f(x,block[i].center,λ[i],args...)</code></li><li>initial parameter based on block weights: <code>λ_0 = [block.weight for block in grid]</code></li><li>components of the sum as array of functions: <code>[(x,λ,args...) -&gt; block[i].volume × g(x,block[i].center,λ[i],args...) for i]</code></li></ul><p>The functions <code>f</code> and <code>g</code> should have the arguments <code>(x,center,weight,args...)</code>.  </p><p><strong>Partial derivatives</strong></p><p>The optional function <code>g</code> can be used to obtain the partial derivatives of the model function w.r.t. <code>λ</code> as array of functions. For this, construct <code>g</code> such that</p><pre><code class="nohighlight hljs">g(x,c,w) = ∂_w f(x,c,w)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/Calculations.jl#L129-L144">source</a></section></article><h2 id="Numeric-PDF-and-CDF"><a class="docs-heading-anchor" href="#Numeric-PDF-and-CDF">Numeric PDF and CDF</a><a id="Numeric-PDF-and-CDF-1"></a><a class="docs-heading-anchor-permalink" href="#Numeric-PDF-and-CDF" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AdaptiveDensityApproximation.get_pdf" href="#AdaptiveDensityApproximation.get_pdf"><code>AdaptiveDensityApproximation.get_pdf</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_pdf(grid;normalize::Bool = true)</code></pre><p>Return the discrete empirical pdf function of a grid. For this, the grid is understood as histogram, where the blocks are the bins, and the weights are the corresponding values. If <code>normalize = true</code> the values are normalized s.t. the sum of all values is 1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/DensityApproximation.jl#L60-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AdaptiveDensityApproximation.get_cdf" href="#AdaptiveDensityApproximation.get_cdf"><code>AdaptiveDensityApproximation.get_cdf</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_cdf(grid;normalize::Bool = true)</code></pre><p>Return the discrete empirical cdf function of a grid. For this, the grid is understood as histogram, where the blocks are the bins, and the weights are the corresponding values. If <code>normalize = true</code> the values are normalized s.t. the sum of all values is 1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/DensityApproximation.jl#L91-L94">source</a></section></article><h2 id="Grid-slices"><a class="docs-heading-anchor" href="#Grid-slices">Grid slices</a><a id="Grid-slices-1"></a><a class="docs-heading-anchor-permalink" href="#Grid-slices" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AdaptiveDensityApproximation.get_slice" href="#AdaptiveDensityApproximation.get_slice"><code>AdaptiveDensityApproximation.get_slice</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_slice(grid::Grid, slice_selection)</code></pre><p>Return a grid of blocks (from <code>grid</code>) that intersect with a slice defined by <code>slice_selection</code>.</p><p>For example: the y-axis is defined by <code>slice_selection = [0,nothing,0]</code>, the y-z-plane at <code>x = 5</code> is defined by <code>slice_selection = [5,nothing,nothing]</code>, etc..</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/GridRestrictions.jl#L45-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="AdaptiveDensityApproximation.dimension" href="#AdaptiveDensityApproximation.dimension"><code>AdaptiveDensityApproximation.dimension</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dimension(grid)</code></pre><p>Return the dimension of the grid. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/AntibodyPackages/AdaptiveDensityApproximation/blob/681004f029ba2fb467ba7e9e066505ee41782730/src/GridMethods/DensityApproximation.jl#L16-L19">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../FittingObjectiveFunctions/API/">« FittingObjectiveFunctions</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Wednesday 10 July 2024 21:21">Wednesday 10 July 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
